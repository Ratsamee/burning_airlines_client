{"ast":null,"code":"var _jsxFileName = \"/Users/bigpoo/Projects/projects/burning_airlines/burning_airlines_client/src/Components/FlightSearchPage.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst FLIGHT_SERVER_URL = 'http://localhost:3000/flights.json';\n\nclass FlightSearchPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      flights: []\n    };\n    this.fetchSearchFlight = this.fetchSearchFlight.bind(this);\n  }\n\n  fetchSearchFlight(filter) {\n    axios.get(FLIGHT_SERVER_URL).then(response => {\n      const data = response.data.filter(f => {\n        return f.origin.toLowerCase() === filter.origin.toLowerCase() && f.destination.toLowerCase() === filter.destination.toLowerCase();\n      });\n      console.log(data);\n      this.setState({\n        flights: data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, \"Virgin Airline\"), React.createElement(FlightSearchForm, {\n      onSubmit: this.fetchSearchFlight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }), React.createElement(FlightList, {\n      flights: this.state.flights,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass FlightSearchForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      origin: \"\",\n      destination: \"\"\n    };\n    this._handleOnChange = this._handleOnChange.bind(this);\n    this._handleSubmit = this._handleSubmit.bind(this);\n  }\n\n  _handleOnChange(event) {\n    switch (event.target.name) {\n      case \"origin\":\n        this.setState({\n          origin: event.target.value\n        });\n        break;\n\n      case \"destination\":\n        this.setState({\n          destination: event.target.value\n        });\n        break;\n    }\n  }\n\n  _handleSubmit(event) {\n    event.preventDefault();\n    let data = {\n      origin: this.state.origin,\n      destination: this.state.destination\n    };\n    this.props.onSubmit(data);\n    this.setState({\n      flightNumber: \"\",\n      departureDate: \"\",\n      origin: \"\",\n      destination: \"\"\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this._handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Origin:\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"origin\",\n      placeholder: \"Origin\",\n      onChange: this._handleOnChange,\n      value: this.state.origin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Destination\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"destination\",\n      placeholder: \"Destination\",\n      onChange: this._handleOnChange,\n      value: this.state.destination,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      value: \"Cancel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }))))))));\n  }\n\n}\n\nclass FlightList extends Component {\n  render() {\n    return React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Flight\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"From > To\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Plane\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Seats\"))), this.props.flights.map((flight, index) => React.createElement(\"tbody\", {\n      key: flight.id + 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      key: flight.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      key: index + 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, new Date(flight.departure_date).toLocaleDateString()), React.createElement(\"td\", {\n      key: index + 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, flight.flight_number), React.createElement(\"td\", {\n      key: index + 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"\".concat(flight.origin, \" > \").concat(flight.destination)), React.createElement(\"td\", {\n      key: index + 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, flight.airplane.name), React.createElement(\"td\", {\n      key: index + 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, (flight.airplane.rows * flight.airplane.columns).toString())))));\n  }\n\n}\n\nexport default FlightSearchPage;","map":{"version":3,"sources":["/Users/bigpoo/Projects/projects/burning_airlines/burning_airlines_client/src/Components/FlightSearchPage.js"],"names":["React","Component","axios","FLIGHT_SERVER_URL","FlightSearchPage","constructor","state","flights","fetchSearchFlight","bind","filter","get","then","response","data","f","origin","toLowerCase","destination","console","log","setState","render","FlightSearchForm","_handleOnChange","_handleSubmit","event","target","name","value","preventDefault","props","onSubmit","flightNumber","departureDate","FlightList","map","flight","index","id","Date","departure_date","toLocaleDateString","flight_number","airplane","rows","columns","toString"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst FLIGHT_SERVER_URL = 'http://localhost:3000/flights.json';\nclass FlightSearchPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n        flights: []\n    };\n    this.fetchSearchFlight = this.fetchSearchFlight.bind(this);\n  }\n\n  fetchSearchFlight(filter){\n      axios.get(FLIGHT_SERVER_URL).then((response)=>{\n          const data = response.data.filter((f)=>{\n              return f.origin.toLowerCase() === filter.origin.toLowerCase() && f.destination.toLowerCase() === filter.destination.toLowerCase()\n          });\n          console.log(data);\n          this.setState({flights: data});\n      })\n  }\n\n  render() {\n    return (\n      <div>\n          <h1>Virgin Airline</h1>\n          <FlightSearchForm onSubmit={this.fetchSearchFlight} />\n          <FlightList flights={this.state.flights} />\n      </div>\n    );\n  }\n}\n\nclass FlightSearchForm extends Component{\n    constructor(){\n        super();\n        this.state = {\n            origin: \"\",\n            destination: \"\"\n        };\n        this._handleOnChange = this._handleOnChange.bind(this);\n        this._handleSubmit = this._handleSubmit.bind(this);\n    }\n\n    _handleOnChange(event){\n        switch (event.target.name) {\n            case \"origin\":\n                this.setState({origin: event.target.value});\n                break;\n            case \"destination\":\n                this.setState({destination: event.target.value});\n                break;\n        }\n    }\n\n    _handleSubmit(event){\n        event.preventDefault();\n        let data = {origin: this.state.origin, destination:this.state.destination};\n        this.props.onSubmit(data);\n        this.setState({flightNumber: \"\", departureDate: \"\", origin: \"\", destination: \"\"});\n    }\n\n    render() {\n      return (\n        <div>\n          <form onSubmit={this._handleSubmit}>\n              <div>\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>\n                                <label>Origin:</label>\n                                <input type=\"text\" name=\"origin\" placeholder=\"Origin\" onChange={this._handleOnChange} value={this.state.origin}></input>\n                            </td>\n                            <td>\n                                <label>Destination</label>\n                                <input type=\"text\" name=\"destination\" placeholder=\"Destination\" onChange={this._handleOnChange} value={this.state.destination}></input>\n                            </td>\n                            <td>\n                                <input type=\"button\" value=\"Cancel\"></input>\n                                <input type=\"submit\" value=\"Search\"></input>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n              </div>\n\n          </form>\n        </div>\n      )\n    };\n}\n\nclass FlightList extends Component{\n    render() {\n        return (\n          <table>\n              <thead>\n                  <tr>\n                      <th>Date</th>\n                      <th>Flight</th>\n                      <th>From > To</th>\n                      <th>Plane</th>\n                      <th>Seats</th>\n                  </tr>\n              </thead>\n              {\n                  this.props.flights.map((flight, index)=>\n                  <tbody key={flight.id+1}>\n                      <tr key={flight.id}>\n                          <td key={index+1}>{(new Date(flight.departure_date)).toLocaleDateString()}</td>\n                          <td key={index+2}>{flight.flight_number}</td>\n                          <td key={index+3}>{`${flight.origin} > ${flight.destination}`}</td>\n                          <td key={index+4}>{flight.airplane.name}</td>\n                          <td key={index+5}>{(flight.airplane.rows * flight.airplane.columns).toString()}</td>\n                      </tr>\n                  </tbody>\n                  )\n              }\n          </table>\n        )\n    };\n}\n\nexport default FlightSearchPage;\n"]},"metadata":{},"sourceType":"module"}