{"ast":null,"code":"var _jsxFileName = \"/Users/MobbleBookPro/projects/burning_airlines/burning_airlines_client/src/Components/FlightPage.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nconst AIRPLANE_SERVER_URL = 'http://localhost:3000/airplanes.json';\nconst FLIGHT_SERVER_URL = 'http://localhost:3000/flights.json';\n\nclass FlightPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      flights: []\n    };\n    this.saveFlight = this.saveFlight.bind(this); // polling\n\n    const fetchflights = () => {\n      axios.get(FLIGHT_SERVER_URL).then(results => {\n        console.log('fetData', results.data);\n        this.setState({\n          flights: results.data\n        });\n      });\n      setTimeout(this.fetchflights, 4000);\n    };\n\n    fetchflights();\n  }\n\n  saveFlight(flight) {\n    console.log(flight);\n    axios.post(FLIGHT_SERVER_URL, flight).then(result => {\n      this.setState({\n        flights: [...this.state.flights, result.data]\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"Virgin Airline\"), React.createElement(FlightForm, {\n      onSubmit: this.saveFlight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), React.createElement(FlightList, {\n      flights: this.state.flights,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass FlightForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      airplanes: [],\n      flightNumber: \"\",\n      departureDate: \"\",\n      origin: \"\",\n      destination: \"\",\n      airplane_id: \"\"\n    };\n\n    const loadAirplanes = () => {\n      axios.get(AIRPLANE_SERVER_URL).then(result => {\n        let airplanes = result.data.map((airplane, index) => {\n          return React.createElement(\"option\", {\n            value: airplane.id,\n            key: airplane.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, airplane.name);\n        });\n        this.setState({\n          airplanes: airplanes\n        });\n        this.setState({\n          airplane_id: result.data[0].id\n        });\n      });\n    };\n\n    loadAirplanes();\n    this._handleOnChange = this._handleOnChange.bind(this);\n    this._handleSubmit = this._handleSubmit.bind(this);\n  }\n\n  _handleOnChange(event) {\n    switch (event.target.name) {\n      case \"flight_number\":\n        this.setState({\n          flightNumber: event.target.value\n        });\n        break;\n\n      case \"departure_date\":\n        this.setState({\n          departureDate: event.target.value\n        });\n        break;\n\n      case \"origin\":\n        this.setState({\n          origin: event.target.value\n        });\n        break;\n\n      case \"destination\":\n        this.setState({\n          destination: event.target.value\n        });\n        break;\n\n      case \"airplane\":\n        this.setState({\n          airplane_id: event.target.value\n        });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  _handleSubmit(event) {\n    event.preventDefault();\n    const data = {\n      flight_number: this.state.flightNumber,\n      departure_date: this.state.departureDate,\n      origin: this.state.origin,\n      destination: this.state.destination,\n      airplane_id: this.state.airplane_id\n    };\n    this.props.onSubmit(data);\n    this.setState({\n      flightNumber: \"\",\n      departureDate: \"\",\n      origin: \"\",\n      destination: \"\"\n    });\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this._handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Flight Number: \", React.createElement(\"input\", {\n      name: \"flight_number\",\n      type: \"text\",\n      placeholder: \"QF746\",\n      onChange: this._handleOnChange,\n      value: this.state.flightNumber,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), \"Departure Date: \", React.createElement(\"input\", {\n      name: \"departure_date\",\n      type: \"text\",\n      placeholder: \"DD/MM/YYYY\",\n      onChange: this._handleOnChange,\n      value: this.state.departureDate,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), \"Origin: \", React.createElement(\"input\", {\n      type: \"text\",\n      name: \"origin\",\n      placeholder: \"Origin\",\n      onChange: this._handleOnChange,\n      value: this.state.origin,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), \"Destination: \", React.createElement(\"input\", {\n      type: \"text\",\n      name: \"destination\",\n      placeholder: \"Destination\",\n      onChange: this._handleOnChange,\n      value: this.state.destination,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), \"Plane: \", React.createElement(\"select\", {\n      name: \"airplane\",\n      onChange: this._handleOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, this.state.airplanes), React.createElement(\"input\", {\n      type: \"button\",\n      value: \"Cancel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Save\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass FlightList extends Component {\n  render() {\n    return React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Flight\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"From > To\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Plane\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Seats\"))), this.props.flights.map((flight, index) => React.createElement(\"tbody\", {\n      key: flight.id + 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      key: flight.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      key: index + 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, new Date(flight.departure_date).toLocaleDateString()), React.createElement(\"td\", {\n      key: index + 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, flight.flight_number), React.createElement(\"td\", {\n      key: index + 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"\".concat(flight.origin, \" > \").concat(flight.destination)), React.createElement(\"td\", {\n      key: index + 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, flight.airplane.name), React.createElement(\"td\", {\n      key: index + 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, (flight.airplane.rows * flight.airplane.columns).toString())))));\n  }\n\n}\n\nexport default FlightPage;","map":{"version":3,"sources":["/Users/MobbleBookPro/projects/burning_airlines/burning_airlines_client/src/Components/FlightPage.js"],"names":["React","Component","axios","AIRPLANE_SERVER_URL","FLIGHT_SERVER_URL","FlightPage","constructor","state","flights","saveFlight","bind","fetchflights","get","then","results","console","log","data","setState","setTimeout","flight","post","result","render","FlightForm","airplanes","flightNumber","departureDate","origin","destination","airplane_id","loadAirplanes","map","airplane","index","id","name","_handleOnChange","_handleSubmit","event","target","value","preventDefault","flight_number","departure_date","props","onSubmit","FlightList","Date","toLocaleDateString","rows","columns","toString"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nconst AIRPLANE_SERVER_URL = 'http://localhost:3000/airplanes.json';\nconst FLIGHT_SERVER_URL = 'http://localhost:3000/flights.json';\nclass FlightPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n        flights: []\n    };\n\n    this.saveFlight = this.saveFlight.bind(this);\n\n    // polling\n    const fetchflights = () => {\n        axios.get(FLIGHT_SERVER_URL).then((results)=>{\n            console.log('fetData',results.data);\n            this.setState({flights: results.data});\n        });\n        setTimeout(this.fetchflights, 4000);\n    };\n\n    fetchflights();\n  }\n\n  saveFlight(flight){\n      console.log(flight);\n    axios.post(FLIGHT_SERVER_URL, flight).then((result)=>{\n        this.setState({flights: [...this.state.flights, result.data]});\n    })\n  }\n\n  render() {\n    return (\n        <div>\n            <h1>Virgin Airline</h1>\n            <FlightForm onSubmit={this.saveFlight} />\n            <FlightList flights={this.state.flights} />\n        </div>\n    );\n  }\n}\n\nclass FlightForm extends Component {\n    constructor(){\n        super();\n        this.state = {\n            airplanes: [],\n            flightNumber: \"\",\n            departureDate: \"\",\n            origin: \"\",\n            destination: \"\",\n            airplane_id: \"\"\n        };\n        const loadAirplanes = () => {\n            axios.get(AIRPLANE_SERVER_URL).then((result)=>{\n                let airplanes = result.data.map((airplane, index)=>{\n                    return <option value={airplane.id} key={airplane.id}>{airplane.name}</option>\n                });\n                this.setState({airplanes:airplanes});\n                this.setState({airplane_id: result.data[0].id});\n            })\n        };\n        loadAirplanes();\n\n        this._handleOnChange = this._handleOnChange.bind(this);\n        this._handleSubmit = this._handleSubmit.bind(this);\n    }\n\n    _handleOnChange(event){\n        switch (event.target.name) {\n            case \"flight_number\":\n                this.setState({flightNumber:event.target.value});\n                break;\n            case \"departure_date\":\n                this.setState({departureDate: event.target.value});\n                break;\n            case \"origin\":\n                this.setState({origin: event.target.value});\n                break;\n            case \"destination\":\n                this.setState({destination: event.target.value});\n                break;\n            case \"airplane\":\n                this.setState({airplane_id: event.target.value});\n                break;\n            default:\n                break;\n        }\n    }\n\n    _handleSubmit(event){\n        event.preventDefault();\n        const data = {flight_number: this.state.flightNumber, departure_date: this.state.departureDate, origin: this.state.origin, destination: this.state.destination, airplane_id: this.state.airplane_id};\n        this.props.onSubmit(data);\n        this.setState({flightNumber: \"\", departureDate: \"\", origin: \"\", destination: \"\"});\n    }\n\n    render() {\n      return (\n        <form onSubmit={this._handleSubmit}>\n\n            Flight Number: <input name=\"flight_number\" type=\"text\" placeholder=\"QF746\" onChange={this._handleOnChange} value={this.state.flightNumber} required />\n            Departure Date: <input name=\"departure_date\" type=\"text\" placeholder=\"DD/MM/YYYY\" onChange={this._handleOnChange} value={this.state.departureDate} required />\n            Origin: <input type=\"text\" name=\"origin\" placeholder=\"Origin\" onChange={this._handleOnChange} value={this.state.origin} required />\n            Destination: <input type=\"text\" name=\"destination\" placeholder=\"Destination\" onChange={this._handleOnChange} value={this.state.destination} required />\n            Plane: <select name=\"airplane\" onChange={this._handleOnChange}>\n                {this.state.airplanes}\n            </select>\n            <input type=\"button\" value=\"Cancel\"></input>\n            <input type=\"submit\" value=\"Save\"></input>\n        </form>\n      )\n    };\n}\n\nclass FlightList extends Component{\n    render() {\n      return (\n        <table>\n            <thead>\n                <tr>\n                    <th>Date</th>\n                    <th>Flight</th>\n                    <th>From > To</th>\n                    <th>Plane</th>\n                    <th>Seats</th>\n                </tr>\n            </thead>\n            {\n                this.props.flights.map((flight, index)=>\n                <tbody key={flight.id+1}>\n                    <tr key={flight.id}>\n                        <td key={index+1}>{(new Date(flight.departure_date)).toLocaleDateString()}</td>\n                        <td key={index+2}>{flight.flight_number}</td>\n                        <td key={index+3}>{`${flight.origin} > ${flight.destination}`}</td>\n                        <td key={index+4}>{flight.airplane.name}</td>\n                        <td key={index+5}>{(flight.airplane.rows * flight.airplane.columns).toString()}</td>\n                    </tr>\n                </tbody>\n                )\n            }\n        </table>\n      )\n    };\n}\nexport default FlightPage;\n"]},"metadata":{},"sourceType":"module"}